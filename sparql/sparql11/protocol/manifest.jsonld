{
  "@context": {
    "@base": "http://www.w3.org/2009/sparql/docs/tests/data-sparql11/protocol/manifest",
    "cnt": "http://www.w3.org/2011/content#",
    "dawgt": "http://www.w3.org/2001/sw/DataAccess/tests/test-dawg#",
    "ht": "http://www.w3.org/2011/http#",
    "mf": "http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#",
    "mq": "http://www.w3.org/2001/sw/DataAccess/tests/test-query#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "action": {
      "@id": "mf:action",
      "@type": "@id"
    },
    "approval": {
      "@id": "dawgt:approval",
      "@type": "@id"
    },
    "approvedBy": {
      "@id": "dawgt:approvedBy",
      "@type": "@id"
    },
    "comment": {
      "@id": "rdfs:comment"
    },
    "data": {
      "@id": "mq:data",
      "@type": "@id"
    },
    "entries": {
      "@id": "mf:entries",
      "@container": "@list",
      "@type": "@id"
    },
    "feature": {
      "@id": "mf:feature",
      "@type": "@vocab"
    },
    "graphData": {
      "@id": "mq:graphData",
      "@type": "@id"
    },
    "label": {
      "@id": "rdfs:label"
    },
    "name": {
      "@id": "mf:name"
    },
    "notable": {
      "@id": "mf:notable",
      "@type": "@vocab"
    },
    "query": {
      "@id": "mq:query",
      "@type": "@id"
    },
    "queryForm": {
      "@id": "mq:queryForm",
      "@type": "@vocab"
    },
    "requires": {
      "@id": "mf:requires",
      "@type": "@vocab",
      "@container": "@set"
    },
    "result": {
      "@id": "mf:result",
      "@type": "@id"
    },
    "headerElements": {
      "@id": "ht:headerElements",
      "@container": "@list"
    },
    "headers": {
      "@id": "ht:headers",
      "@container": "@list"
    },
    "params": {
      "@id": "ht:params",
      "@container": "@list"
    },
    "requests": {
      "@id": "ht:requests",
      "@container": "@list"
    }
  },
  "@id": "",
  "@type": "mf:Manifest",
  "label": "SPARQL Protocol",
  "comment": "\nTest descriptions used for generating Manifest and HTML renderings.\nTest HTTP connection described using HTTP and CNT vocabularies.\nIn responses, status values such as \"2XX\", \"3XX\" are used to match the actual response status.\nMultiple values for Content-Type mean that the response MUST include one or more of these types.\nResponses for ASK match any specified boolean content.\nSome tests require special result processing.\n  ",
  "entries": [
    {
      "@id": "#query_get",
      "@type": "mf:ProtocolTest",
      "name": "query via GET",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "GET",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?query=ASK%20%7B%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_post_form",
      "@type": "mf:ProtocolTest",
      "name": "query via URL-encoded POST",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?query=ASK%20%7B%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_post_direct",
      "@type": "mf:ProtocolTest",
      "name": "query via POST directly",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "application/sparql-query",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-query"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "ASK {}",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_dataset_default_graph",
      "@type": "mf:ProtocolTest",
      "name": "query with protocol-specified default graph",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=ASK%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20%3Fp%20%3Fo%20%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_dataset_default_graphs_get",
      "@type": "mf:ProtocolTest",
      "name": "GET query with protocol-specified default graphs",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "GET",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?query=ASK%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20%3Ftype%20.%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20a%20%3Ftype%20.%20%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf",
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_dataset_default_graphs_post",
      "@type": "mf:ProtocolTest",
      "name": "POST query with protocol-specified default graphs",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=ASK%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20%3Ftype%20.%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20a%20%3Ftype%20.%20%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_dataset_named_graphs_post",
      "@type": "mf:ProtocolTest",
      "name": "POST query with protocol-specified named graphs",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=ASK%20%7B%20GRAPH%20%3Fg1%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20%3Ftype%20%7D%20GRAPH%20%3Fg2%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20a%20%3Ftype%20%7D%20%7D&named-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf&named-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_dataset_named_graphs_get",
      "@type": "mf:ProtocolTest",
      "name": "GET query with protocol-specified named graphs",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "GET",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?query=ASK%20%7B%20GRAPH%20%3Fg1%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20%3Ftype%20%7D%20GRAPH%20%3Fg2%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20a%20%3Ftype%20%7D%20%7D&named-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf&named-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf",
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_dataset_full",
      "@type": "mf:ProtocolTest",
      "name": "query with protocol-specified dataset (both named and default graphs)",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=%0AASK%20%7B%0A%20%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata3.rdf%3E%20a%20%3Ftype%0A%20%20GRAPH%20%3Fg1%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20%3Ftype%20%7D%0A%20%20GRAPH%20%3Fg2%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20a%20%3Ftype%20%7D%0A%7D%0A&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata3.rdf&named-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf&named-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_multiple_dataset",
      "@type": "mf:ProtocolTest",
      "name": "query specifying dataset in both query string and protocol; test for use of protocol-specified dataset",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=ASK%20FROM%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata3.rdf%3E%20%7B%20GRAPH%20%3Fg1%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20%3Ftype%20%7D%20GRAPH%20%3Fg2%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20a%20%3Ftype%20%7D%20%7D&named-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf&named-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": true,
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#query_content_type_select",
      "@type": "mf:ProtocolTest",
      "name": "SELECT query appropriate content type (expect one of: XML, JSON, CSV, TSV)",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=SELECT%20%281%20AS%20%3Fvalue%29%20%7B%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json, text/tab-separated-values, text/csv",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "text/tab-separated-values"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "text/csv"
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#query_content_type_ask",
      "@type": "mf:ProtocolTest",
      "name": "ASK query appropriate content type (expect one of: XML, JSON)",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=ASK%20%7B%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml, application/sparql-results+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+json"
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#query_content_type_describe",
      "@type": "mf:ProtocolTest",
      "name": "DESCRIBE query appropriate content type (expect one of: RDF/XML, Turtle, N-Triples, RDFa, JSON-LD)",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=DESCRIBE%20%3Chttp%3A%2F%2Fexample.org%2F%3E&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/rdf+xml, text/turtle, application/n-triples, text/html, application/ld+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/rdf+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "text/turtle"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/n-triples"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "text/html"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/ld+json"
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#query_content_type_construct",
      "@type": "mf:ProtocolTest",
      "name": "CONSTRUCT query appropriate content type (expect one of: RDF/XML, Turtle, N-Triples, RDFa, JSON-LD))",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=CONSTRUCT%20%7B%20%3Cs%3E%20%3Cp%3E%201%20%7D%20WHERE%20%7B%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/rdf+xml, text/turtle, application/n-triples, text/html, application/ld+json",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/rdf+xml"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "text/turtle"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/n-triples"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "text/html"
                    },
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/ld+json"
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#update_dataset_default_graph",
      "@type": "mf:ProtocolTest",
      "name": "update with protocol-specified default graph",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "update=%0APREFIX%20dc%3A%20%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0APREFIX%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0ACLEAR%20ALL%20%3B%0AINSERT%20DATA%20%7B%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20%7B%0A%20%20%20%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20foaf%3ADocument%0A%20%20%7D%0A%7D%20%3B%0AINSERT%20%7B%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fexample.org%2Fprotocol-update-dataset-test%2F%3E%20%7B%0A%20%20%20%20%3Fs%20a%20dc%3ABibliographicResource%0A%20%20%7D%0A%7D%0AWHERE%20%7B%0A%20%20%3Fs%20a%20foaf%3ADocument%0A%7D%0A",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ]
            }
          },
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Accept",
                "ht:fieldValue": "application/sparql-results+xml",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-results+xml"
                  }
                ]
              },
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "application/sparql-query",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-query"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "\nASK {\n  GRAPH <http://example.org/protocol-update-dataset-test/> {\n    <http://kasei.us/2009/09/sparql/data/data1.rdf> a <http://purl.org/dc/terms/BibliographicResource>\n  }\n}\n",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#update_dataset_default_graphs",
      "@type": "mf:ProtocolTest",
      "name": "update with protocol-specified default graphs",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf&using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "update=%0APREFIX%20dc%3A%20%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0APREFIX%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0ADROP%20ALL%20%3B%0AINSERT%20DATA%20%7B%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20foaf%3ADocument%20%7D%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20a%20foaf%3ADocument%20%7D%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata3.rdf%3E%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata3.rdf%3E%20a%20foaf%3ADocument%20%7D%0A%7D%20%3B%0AINSERT%20%7B%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fexample.org%2Fprotocol-update-dataset-graphs-test%2F%3E%20%7B%0A%20%20%20%20%3Fs%20a%20dc%3ABibliographicResource%0A%20%20%7D%0A%7D%0AWHERE%20%7B%0A%20%20%3Fs%20a%20foaf%3ADocument%0A%7D%0A",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ]
            }
          },
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Accept",
                "ht:fieldValue": "application/sparql-results+xml",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-results+xml"
                  }
                ]
              },
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "application/sparql-query",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-query"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "\nASK {\n  GRAPH <http://example.org/protocol-update-dataset-graphs-test/> {\n    <http://kasei.us/2009/09/sparql/data/data1.rdf> a <http://purl.org/dc/terms/BibliographicResource> .\n    <http://kasei.us/2009/09/sparql/data/data2.rdf> a <http://purl.org/dc/terms/BibliographicResource> .\n  }\n  FILTER NOT EXISTS {\n    GRAPH <http://example.org/protocol-update-dataset-graphs-test/> {\n      <http://kasei.us/2009/09/sparql/data/data3.rdf> a <http://purl.org/dc/terms/BibliographicResource> .\n    }\n  }\n}\n",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#update_dataset_named_graphs",
      "@type": "mf:ProtocolTest",
      "name": "update with protocol-specified named graphs",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf&using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "update=%0APREFIX%20dc%3A%20%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0APREFIX%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0ADROP%20ALL%20%3B%0AINSERT%20DATA%20%7B%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20foaf%3ADocument%20%7D%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20a%20foaf%3ADocument%20%7D%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata3.rdf%3E%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata3.rdf%3E%20a%20foaf%3ADocument%20%7D%0A%7D%20%3B%0AINSERT%20%7B%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fexample.org%2Fprotocol-update-dataset-named-graphs-test%2F%3E%20%7B%0A%20%20%20%20%3Fs%20a%20dc%3ABibliographicResource%0A%20%20%7D%0A%7D%0AWHERE%20%7B%0A%20%20GRAPH%20%3Fg%20%7B%0A%20%20%20%20%3Fs%20a%20foaf%3ADocument%0A%20%20%7D%0A%7D%0A",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ]
            }
          },
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Accept",
                "ht:fieldValue": "application/sparql-results+xml",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-results+xml"
                  }
                ]
              },
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "application/sparql-query",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-query"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "\nASK {\n  GRAPH <http://example.org/protocol-update-dataset-named-graphs-test/> {\n    <http://kasei.us/2009/09/sparql/data/data1.rdf> a <http://purl.org/dc/terms/BibliographicResource> .\n    <http://kasei.us/2009/09/sparql/data/data2.rdf> a <http://purl.org/dc/terms/BibliographicResource> .\n  }\n  FILTER NOT EXISTS {\n    GRAPH <http://example.org/protocol-update-dataset-named-graphs-test/> {\n      <http://kasei.us/2009/09/sparql/data/data3.rdf> a <http://purl.org/dc/terms/BibliographicResource> .\n    }\n  }\n}\n",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#update_dataset_full",
      "@type": "mf:ProtocolTest",
      "name": "update with protocol-specified dataset (both named and default graphs)",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?update=%0APREFIX%20dc%3A%20%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0APREFIX%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0ADROP%20ALL%20%3B%0AINSERT%20DATA%20%7B%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf%3E%20a%20foaf%3ADocument%20%7D%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf%3E%20a%20foaf%3ADocument%20%7D%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata3.rdf%3E%20%7B%20%3Chttp%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata3.rdf%3E%20a%20foaf%3ADocument%20%7D%0A%7D%20%3B%0AINSERT%20%7B%0A%20%20GRAPH%20%3Chttp%3A%2F%2Fexample.org%2Fprotocol-update-dataset-full-test%2F%3E%20%7B%0A%20%20%20%20%3Fs%20%3Chttp%3A%2F%2Fexample.org%2Fin%3E%20%3Fin%0A%20%20%7D%0A%7D%0AWHERE%20%7B%0A%20%20%7B%0A%20%20%20%20GRAPH%20%3Fg%20%7B%20%3Fs%20a%20foaf%3ADocument%20%7D%0A%20%20%20%20BIND%28%3Fg%20AS%20%3Fin%29%0A%20%20%7D%0A%20%20UNION%0A%20%20%7B%0A%20%20%20%20%3Fs%20a%20foaf%3ADocument%20.%0A%20%20%20%20BIND%28%22default%22%20AS%20%3Fin%29%0A%20%20%7D%0A%7D%0A&using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata1.rdf&using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata2.rdf",
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ]
            }
          },
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Accept",
                "ht:fieldValue": "application/sparql-results+xml",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-results+xml"
                  }
                ]
              },
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "application/sparql-query",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-query"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "\nASK {\n  GRAPH <http://example.org/protocol-update-dataset-full-test/> {\n    <http://kasei.us/2009/09/sparql/data/data1.rdf> <http://example.org/in> \"default\" .\n    <http://kasei.us/2009/09/sparql/data/data2.rdf> <http://example.org/in> <http://kasei.us/2009/09/sparql/data/data2.rdf> .\n  }\n  FILTER NOT EXISTS {\n    GRAPH <http://example.org/protocol-update-dataset-full-test/> {\n      <http://kasei.us/2009/09/sparql/data/data3.rdf> ?p ?o\n    }\n  }\n}\n",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#update_post_form",
      "@type": "mf:ProtocolTest",
      "name": "update via URL-encoded POST",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "update=CLEAR%20ALL",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#update_post_direct",
      "@type": "mf:ProtocolTest",
      "name": "update via POST directly",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "application/sparql-update",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-update"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "CLEAR ALL",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#update_base_uri",
      "@type": "mf:ProtocolTest",
      "name": "test for service-defined BASE URI (\"which MAY be the service endpoint\")",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "update=CLEAR%20SILENT%20GRAPH%20%3Chttp%3A%2F%2Fexample.org%2Fprotocol-base-test%2F%3E%20%3B%20INSERT%20DATA%20%7B%20GRAPH%20%3Chttp%3A%2F%2Fexample.org%2Fprotocol-base-test%2F%3E%20%7B%20%3Chttp%3A%2F%2Fexample.org%2Fs%3E%20%3Chttp%3A%2F%2Fexample.org%2Fp%3E%20%3Ctest%3E%20%7D%20%7D",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ]
            }
          },
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Accept",
                "ht:fieldValue": "application/sparql-results+xml",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-results+xml"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=SELECT%20%3Fo%20WHERE%20%7B%20GRAPH%20%3Chttp%3A%2F%2Fexample.org%2Fprotocol-base-test%2F%3E%20%7B%20%3Chttp%3A%2F%2Fexample.org%2Fs%3E%20%3Chttp%3A%2F%2Fexample.org%2Fp%3E%20%3Fo%20%7D%20%7D",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "2XX",
                "3XX"
              ],
              "headers": [
                {
                  "@type": "ht:RequestHeader",
                  "ht:fieldName": "Content-Type",
                  "ht:fieldValue": "application/sparql-results+xml",
                  "headerElements": [
                    {
                      "@type": "ht:HeaderElement",
                      "ht:elementName": "application/sparql-results+xml"
                    }
                  ]
                }
              ],
              "ht:body": {
                "@type": "cnt:ContentAsText",
                "cnt:chars": "one result with `?o` bound to an IRI that is _not_ `<test>`",
                "cnt:characterEncoding": "UTF-8"
              }
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_query_method",
      "@type": "mf:ProtocolTest",
      "name": "invoke query operation with a method other than GET or POST",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "PUT",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?query=ASK%20%7B%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_multiple_queries",
      "@type": "mf:ProtocolTest",
      "name": "invoke query operation with more than one query string",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "GET",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?query=ASK%20%7B%7D&query=SELECT%20%2A%20%7B%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_query_wrong_media_type",
      "@type": "mf:ProtocolTest",
      "name": "invoke query operation with a POST with media type that's not url-encoded or application/sparql-query",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "text/plain",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "text/plain"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "ASK {}",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_query_missing_form_type",
      "@type": "mf:ProtocolTest",
      "name": "invoke query operation with url-encoded body, but without application/x-www-form-urlencoded media type",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "query=ASK%20%7B%7D&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_query_missing_direct_type",
      "@type": "mf:ProtocolTest",
      "name": "invoke query operation with SPARQL body, but without application/sparql-query media type",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "ASK {}",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_query_non_utf8",
      "@type": "mf:ProtocolTest",
      "name": "invoke query operation with direct POST, but with a non-UTF8 encoding (UTF-16)",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "application/sparql-query; charset=UTF-16",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-query",
                    "params": [
                      {
                        "@type": "ht:Parameter",
                        "ht:paramName": "charset",
                        "ht:paramValue": "UTF-16"
                      }
                    ]
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "ASK {}",
              "cnt:characterEncoding": "UTF-16"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_query_syntax",
      "@type": "mf:ProtocolTest",
      "name": "invoke query operation with invalid query syntax (4XX result)",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "GET",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?query=ASK%20%7B&default-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_update_get",
      "@type": "mf:ProtocolTest",
      "name": "invoke update operation with GET",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "GET",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?update=CLEAR%20ALL&using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_multiple_updates",
      "@type": "mf:ProtocolTest",
      "name": "invoke update operation with more than one update string",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "update=CLEAR%20ALL&update=CLEAR%20DEFAULT",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_update_wrong_media_type",
      "@type": "mf:ProtocolTest",
      "name": "invoke update operation with a POST with media type that's not url-encoded or application/sparql-update",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "text/plain",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "text/plain"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "CLEAR NAMED",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_update_missing_form_type",
      "@type": "mf:ProtocolTest",
      "name": "invoke update operation with url-encoded body, but without application/x-www-form-urlencoded media type",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "CLEAR NAMED",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_update_non_utf8",
      "@type": "mf:ProtocolTest",
      "name": "invoke update operation with direct POST, but with a non-UTF8 encoding",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "application/sparql-update; charset=UTF-16",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/sparql-update",
                    "params": [
                      {
                        "@type": "ht:Parameter",
                        "ht:paramName": "charset",
                        "ht:paramValue": "UTF-16"
                      }
                    ]
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "CLEAR NAMED",
              "cnt:characterEncoding": "UTF-16"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_update_syntax",
      "@type": "mf:ProtocolTest",
      "name": "invoke update operation with invalid update syntax (4XX result)",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql?using-graph-uri=http%3A%2F%2Fkasei.us%2F2009%2F09%2Fsparql%2Fdata%2Fdata0.rdf",
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "update=CLEAR%20XYZ",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    },
    {
      "@id": "#bad_update_dataset_conflict",
      "@type": "mf:ProtocolTest",
      "name": "invoke update with both using-graph-uri/using-named-graph-uri parameter and USING/WITH clause",
      "approval": "dawgt:Approved",
      "approvedBy": "http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3",
      "action": {
        "@type": "ht:Connection",
        "ht:connectionAuthority": "www.example",
        "requests": [
          {
            "@type": "ht:Request",
            "ht:methodName": "POST",
            "ht:httpVersion": "1.1",
            "ht:absolutePath": "/sparql",
            "headers": [
              {
                "@type": "ht:RequestHeader",
                "ht:fieldName": "Content-Type",
                "ht:fieldValue": "application/x-www-form-urlencoded",
                "headerElements": [
                  {
                    "@type": "ht:HeaderElement",
                    "ht:elementName": "application/x-www-form-urlencoded"
                  }
                ]
              }
            ],
            "ht:body": {
              "@type": "cnt:ContentAsText",
              "cnt:chars": "using-named-graph-uri=http%3A%2F%2Fexample%2Fpeople&update=%0APREFIX%20foaf%3A%20%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0AWITH%20%3Chttp%3A%2F%2Fexample%2Faddresses%3E%0ADELETE%20%7B%20%3Fperson%20foaf%3AgivenName%20%27Bill%27%20%7D%0AINSERT%20%7B%20%3Fperson%20foaf%3AgivenName%20%27William%27%20%7D%0AWHERE%20%7B%0A%20%20%3Fperson%20foaf%3AgivenName%20%27Bill%27%0A%7D%0A",
              "cnt:characterEncoding": "UTF-8"
            },
            "ht:resp": {
              "@type": "ht:Response",
              "ht:statusCodeValue": [
                "4XX"
              ]
            }
          }
        ]
      }
    }
  ]
}
