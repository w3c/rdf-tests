@base <https://w3c.github.io/rdf-tests/sparql/sparql11/http-rdf-update/manifest> .
@prefix cnt: <http://www.w3.org/2011/content#> .
@prefix dawg: <http://www.w3.org/2001/sw/DataAccess/tests/test-dawg#> .
@prefix ht: <http://www.w3.org/2011/http#> .
@prefix mf: <http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

<manifest> a mf:Manifest;
  rdfs:label "SPARQL Graph Store Protocol";
  mf:entries (
    <#put__initial_state>
    <#get_of_put__initial_state>
    <#put__graph_already_in_store>
    <#get_of_put__graph_already_in_store>
    <#put__default_graph>
    <#get_of_put__default_graph>
    <#put__mismatched_payload>
    <#delete__existing_graph>
    <#get_of_delete__existing_graph>
    <#delete__nonexistent_graph>
    <#post__existing_graph>
    <#get_of_post__existing_graph>
    <#post__multipart_formdata>
    <#get_of_post__multipart_formdata>
    <#post__create__new_graph>
    <#get_of_post__create__new_graph>
    <#get_of_post__after_noop>
    <#head_on_an_existing_graph>
    <#head_on_a_nonexisting_graph>) .

<#delete__existing_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/2.ttl";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "DELETE";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "DELETE - existing graph" .

<#delete__nonexistent_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/2.ttl";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "DELETE";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "404"
        ]
      ])
  ];
  mf:name "DELETE - non-existent graph)" .

<#get_of_delete__existing_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/2.ttl";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "GET";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "404"
        ]
      ])
  ];
  mf:name "GET of DELETE - existing graph" .

<#get_of_post__after_noop> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$NEWPATH$";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Accept";
            ht:fieldValue "text/turtle";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "GET";
        ht:resp [
          a ht:Response;
          ht:body [
            a cnt:ContentAsText;
            cnt:characterEncoding "utf-8";
            cnt:chars """
[]  a foaf:Person;
    foaf:businessCard [
        a v:VCard;
        v:given-name \"Alice\"
    ] .
"""
          ];
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "GET of POST - after noop" .

<#get_of_post__create__new_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$NEWPATH$";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Accept";
            ht:fieldValue "text/turtle";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "GET";
        ht:resp [
          a ht:Response;
          ht:body [
            a cnt:ContentAsText;
            cnt:characterEncoding "utf-8";
            cnt:chars """
[]  a foaf:Person;
    foaf:businessCard [
        a v:VCard;
        v:given-name \"Alice\"
    ] .
"""
          ];
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "GET of POST - create new graph" .

<#get_of_post__existing_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/1.ttl";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Accept";
            ht:fieldValue "text/turtle";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "GET";
        ht:resp [
          a ht:Response;
          ht:body [
            a cnt:ContentAsText;
            cnt:characterEncoding "utf-8";
            cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

<http://$HOST$/$GRAPHSTORE$/person/1> a foaf:Person;
    foaf:name \"Jane Doe\";
    foaf:businessCard [ 
        a v:VCard;
        v:fn \"Jane Doe\" 
    ] .            
"""
          ];
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "GET of POST - existing graph" .

<#get_of_post__multipart_formdata> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/1.ttl";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "GET";
        ht:resp [
          a ht:Response;
          ht:body [
            a cnt:ContentAsText;
            cnt:characterEncoding "utf-8";
            cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

<http://$HOST$/$GRAPHSTORE$/person/1> a foaf:Person;
    foaf:name           \"Jane Doe\";
    foaf:givenName      \"Jane\";
    foaf:familyName     \"Doe\";
    foaf:businessCard [
        a               v:VCard;
        v:fn            \"Jane Doe\"
    ] .
"""
          ];
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "GET of POST - multipart/form-data" .

<#get_of_put__default_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$?default";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Accept";
            ht:fieldValue "text/turtle";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "GET";
        ht:resp [
          a ht:Response;
          ht:body [
            a cnt:ContentAsText;
            cnt:characterEncoding "utf-8";
            cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

[]  a foaf:Person;
    foaf:businessCard [
        a v:VCard;
        v:given-name \"Alice\"
    ] .
"""
          ];
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "GET of PUT - default graph" .

<#get_of_put__graph_already_in_store> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/1";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Accept";
            ht:fieldValue "text/turtle";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "GET";
        ht:resp [
          a ht:Response;
          ht:body [
            a cnt:ContentAsText;
            cnt:characterEncoding "utf-8";
            cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

<http://$HOST$/$GRAPHSTORE$/person/1> a foaf:Person;
   foaf:businessCard [
        a v:VCard;
        v:fn \"Jane Doe\"
   ] .
"""
          ];
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "GET of PUT - graph already in store" .

<#get_of_put__initial_state> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$?graph=$GRAPHSTORE$/person/1.ttl";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Accept";
            ht:fieldValue "text/turtle";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "GET";
        ht:resp [
          a ht:Response;
          ht:body [
            a cnt:ContentAsText;
            cnt:characterEncoding "utf-8";
            cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

<http://$HOST$/$GRAPHSTORE$/person/1> a foaf:Person;
   foaf:businessCard [
        a v:VCard;
        v:fn \"John Doe\"
   ].
"""
          ];
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "GET of PUT - Initial state" .

<#head_on_a_nonexisting_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/4.ttl";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "HEAD";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "404"
        ]
      ])
  ];
  mf:name "HEAD on a non-existing graph" .

<#head_on_an_existing_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/1.ttl";
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "HEAD";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "" .

<#post__create__new_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$";
        ht:body [
          a cnt:ContentAsText;
          cnt:characterEncoding "utf-8";
          cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

[]  a foaf:Person;
    foaf:businessCard [
        a v:VCard;
        v:given-name \"Alice\"
    ] .
"""
        ];
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Location";
            ht:fieldValue "$NEWPATH$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$NEWPATH$"
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "POST";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "201"
        ]
      ])
  ];
  mf:name "POST - create new graph" .

<#post__existing_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/1.ttl";
        ht:body [
          a cnt:ContentAsText;
          cnt:characterEncoding "utf-8";
          cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .

<http://$HOST$/$GRAPHSTORE$/person/1> foaf:name \"Jane Doe\"
"""
        ];
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "POST";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "POST - existing graph" .

<#post__multipart_formdata> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/1.ttl";
        ht:body [
          a cnt:ContentAsText;
          cnt:characterEncoding "UTF-8";
          cnt:chars """
--a6fe4cd636164618814be9f8d3d1a0de
Content-Disposition: form-data; name=\"lastName.ttl\"; filename=\"lastName.ttl\"
Content-Type: text/turtle; charset=utf-8

@prefix foaf: <http://xmlns.com/foaf/0.1/> .
<http://$HOST$/$GRAPHSTORE$/person/1> foaf:familyName \"Doe\"

--a6fe4cd636164618814be9f8d3d1a0de
Content-Disposition: form-data; name=\"firstName.ttl\"; filename=\"firstName.ttl\"
Content-Type: text/turtle; charset=utf-8

@prefix foaf: <http://xmlns.com/foaf/0.1/> .
<http://$HOST$/$GRAPHSTORE$/person/1> foaf:givenName \"Jane\"

--a6fe4cd636164618814be9f8d3d1a0de--
      """
        ];
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "multipart/form-data; boundary=a6fe4cd636164618814be9f8d3d1a0de";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "multipart/form-data";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "boundary";
                    ht:paramValue "a6fe4cd636164618814be9f8d3d1a0de"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "POST";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "200"
        ]
      ])
  ];
  mf:name "POST - multipart/form-data" .

<#put__default_graph> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$?default";
        ht:body [
          a cnt:ContentAsText;
          cnt:characterEncoding "utf-8";
          cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

[]  a foaf:Person;
    foaf:businessCard [
        a v:VCard;
        v:given-name \"Alice\"
    ] .
"""
        ];
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "PUT";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "201"
        ]
      ])
  ];
  mf:name "PUT - default graph" .

<#put__graph_already_in_store> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/1";
        ht:body [
          a cnt:ContentAsText;
          cnt:characterEncoding "utf-8";
          cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

<http://$HOST$/$GRAPHSTORE$/person/1> a foaf:Person;
    foaf:businessCard [
        a v:VCard;
        v:fn \"Jane Doe\"
    ].
"""
        ];
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "PUT";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "204"
        ]
      ])
  ];
  mf:name "PUT - graph already in store" .

<#put__initial_state> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$/person/1.ttl";
        ht:body [
          a cnt:ContentAsText;
          cnt:characterEncoding "utf-8";
          cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

<http://$HOST$/$GRAPHSTORE$/person/1> a foaf:Person;
    foaf:businessCard [
        a v:VCard;
        v:fn \"John Doe\"
    ].
"""
        ];
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "PUT";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "201"
        ]
      ])
  ];
  mf:name "PUT - Initial state" .

<#put__mismatched_payload> a mf:GraphStoreProtocolTest;
  dawg:approval dawg:Approved;
  dawg:approvedBy <http://www.w3.org/2009/sparql/meeting/2012-11-20#resolution_3>;
  mf:action [
    a ht:Connection;
    ht:connectionAuthority "www.example";
    ht:requests ([
        a ht:Request;
        ht:absolutePath "$GRAPHSTORE$?default";
        ht:body [
          a cnt:ContentAsText;
          cnt:characterEncoding "utf-8";
          cnt:chars """
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix v: <http://www.w3.org/2006/vcard/ns#> .

<http://$HOST$/$GRAPHSTORE$/person/1> a foaf:Person;
    foaf:businessCard [
        a v:VCard;
        v:fn \"Jane Doe\"
    ].
"""
        ];
        ht:headers ([
            a ht:RequestHeader;
            ht:fieldName "Host";
            ht:fieldValue "$HOST$";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "$HOST$"
              ])
          ] [
            a ht:RequestHeader;
            ht:fieldName "Content-Type";
            ht:fieldValue "text/turtle; charset=utf-8";
            ht:headerElements ([
                a ht:HeaderElement;
                ht:elementName "text/turtle";
                ht:params ([
                    a ht:Parameter;
                    ht:paramName "charset";
                    ht:paramValue "utf-8"
                  ])
              ])
          ]);
        ht:httpVersion "1.1";
        ht:methodName "PUT";
        ht:resp [
          a ht:Response;
          ht:statusCodeValue "400"
        ]
      ])
  ];
  mf:name "PUT - mismatched payload" .
