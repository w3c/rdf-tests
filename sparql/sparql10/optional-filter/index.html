<!DOCTYPE html>
<html lang='en' prefix='dawgt:   http://www.w3.org/2001/sw/DataAccess/tests/test-dawg# mf: http://www.w3.org/2001/sw/DataAccess/tests/test-manifest# mfx:    http://jena.hpl.hp.com/2005/05/test-manifest-extra# qt:     http://www.w3.org/2001/sw/DataAccess/tests/test-query# sd:      http://www.w3.org/ns/sparql-service-description# ut:     http://www.w3.org/2009/sparql/tests/test-update#'>
  <!-- This file is generated automatciallly from manifest.ttl, and should not be edited directly. -->
  <head>
    <meta content='text/html;charset=utf-8' http-equiv='Content-Type'>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <link href='https://www.w3.org/StyleSheets/TR/base' rel='stylesheet' type='text/css'>
    <style>
      dl.editor>dd {
        margin: 0 0 0 40px;
      }
      dl.test-detail {
        padding: 0.5em;
      }
      dl.test-detail>dt {
        float: left;
        clear: left;
        text-align: right;
        font-weight: bold;
        color: green;
      }
      dl.test-detail>dt:after {content: ": "}
      dl.test-detail>dd {
        margin: 0 0 0 110px;
        padding: 0 0 0.5em 0;
      }
      dl.test-description>dt {margin-top: 2em;}
      dd {margin-left: 0;}
      dd code {display: inline;}
      footer {text-align: center;}
    </style>
    <title>
      OPTIONAL FILTER
    </title>
    <style>
      em.rfc2119 {
        text-transform: lowercase;
        font-variant:   small-caps;
        font-style:     normal;
        color:          #900;
      }
      a.testlink {
        color: inherit;
        text-decoration: none;
      }
      a.testlink:hover {
        text-decoration: underline;
      }
      .warning {color: orange;}
      .error {color: red;}
    </style>
  </head>
  <body resource='' typeof='mf:Manifest'>
    <p>
      <a href='http://www.w3.org/'>
        <img alt='W3C' height='48' src='http://www.w3.org/Icons/w3c_home' width='72'>
      </a>
    </p>
    <h1 property='rdfs:label'>OPTIONAL FILTER</h1>
    <p><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2004-2023 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules apply.</p>
    <hr title='Separator for header'>
    <div>
      <h2 id='abstract'>Abstract</h2>
      <p property='rdfs:comment'>
        OPTIONAL with inner and outer FILTERs
      </p>
      <p>This page describes W3C SPARQL Working Group's SPARQL1.0 test suite.</p>
      <h3 id="contributing-tests">Contributing Tests</h3>
      <p>The test manifests and entries are built automatically from <a href="manifest.ttl">manifest.ttl</a> using a Rake task. Tests may be contributed via pull request to <a href="https://github.com/w3c/rdf-tests">https://github.com/w3c/rdf-tests</a> with suitable changes to the <a href="manifest.ttl">manifest.ttl</a> and referenced files.</p>
      <h3 id="distribution">Distribution</h3>
      <p>Distributed under both the <a href="http://www.w3.org/Consortium/Legal/2008/04-testsuite-license">W3C Test Suite License</a> and the <a href="http://www.w3.org/Consortium/Legal/2008/03-bsd-license">W3C 3-clause BSD License</a>.</p>
      <h3 id="disclaimer">Disclaimer</h3>
      <p>UNDER BOTH MUTUALLY EXCLUSIVE LICENSES, THIS DOCUMENT AND ALL DOCUMENTS, TESTS AND SOFTWARE THAT LINK THIS STATEMENT ARE PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THE DOCUMENT ARE SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.
        COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS THEREOF.</p>
    </div>
    <div>
      <h2>
        Test Descriptions
      </h2>
      <dl class='test-description'>
        <dt id='dawg-optional-filter-001'>
          <a class='testlink' href='#dawg-optional-filter-001'>
            dawg-optional-filter-001:
          </a>
          <span about='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-001' property='mf:name'>OPTIONAL-FILTER</span>
        </dt>
        <dd inlist='true' property='mf:entry' resource='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-001' typeof='mf:QueryEvaluationTest'>
          <div property='rdfs:comment'>
            <p>FILTER inside an OPTIONAL does not block an entire solution</p>
          </div>
          <dl class='test-detail'>
            <dt>type</dt>
            <dd>mf:QueryEvaluationTest</dd>
            <dt>feature</dt>
            <dd property='mf:feature' resource=''></dd>
            <dt>approval</dt>
            <dd property='mf:approval' resource='dawgt:Approved'>dawgt:Approved</dd>
            <dt>approvedBy</dt>
            <dd>
              <a href='http://lists.w3.org/Archives/Public/public-rdf-dawg/2007AprJun/att-0082/2007-06-12-dawg-minutes.html' property='dawgt:approvedBy'>http://lists.w3.org/Archives/Public/public-rdf-dawg/2007AprJun/att-0082/2007-06-12-dawg-minutes.html</a>
            </dd>
            <dt>action</dt>
            <dd>
              <dl class='test-detail' property='mf:action' resource=''>
                <dt>query</dt>
                <dd>
                  <a href='expr-1.rq' property='qt:query'>expr-1.rq</a>
                </dd>
                <dt>data</dt>
                <dd>
                  <a href='data-1.ttl' property='qt:data'>data-1.ttl</a>
                </dd>
              </dl>
            </dd>
            <dt>result</dt>
            <dd>
              <a href='expr-1-result.ttl' property='mf:result'>expr-1-result.ttl</a>
            </dd>
          </dl>
        </dd>
        <dt id='dawg-optional-filter-002'>
          <a class='testlink' href='#dawg-optional-filter-002'>
            dawg-optional-filter-002:
          </a>
          <span about='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-002' property='mf:name'>OPTIONAL - Outer FILTER</span>
        </dt>
        <dd inlist='true' property='mf:entry' resource='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-002' typeof='mf:QueryEvaluationTest'>
          <div property='rdfs:comment'>
            <p>FILTER outside an OPTIONAL tests bound and unbound variables</p>
          </div>
          <dl class='test-detail'>
            <dt>type</dt>
            <dd>mf:QueryEvaluationTest</dd>
            <dt>feature</dt>
            <dd property='mf:feature' resource=''></dd>
            <dt>approval</dt>
            <dd property='mf:approval' resource='dawgt:Approved'>dawgt:Approved</dd>
            <dt>approvedBy</dt>
            <dd>
              <a href='http://lists.w3.org/Archives/Public/public-rdf-dawg/2007AprJun/att-0082/2007-06-12-dawg-minutes.html' property='dawgt:approvedBy'>http://lists.w3.org/Archives/Public/public-rdf-dawg/2007AprJun/att-0082/2007-06-12-dawg-minutes.html</a>
            </dd>
            <dt>action</dt>
            <dd>
              <dl class='test-detail' property='mf:action' resource=''>
                <dt>query</dt>
                <dd>
                  <a href='expr-2.rq' property='qt:query'>expr-2.rq</a>
                </dd>
                <dt>data</dt>
                <dd>
                  <a href='data-1.ttl' property='qt:data'>data-1.ttl</a>
                </dd>
              </dl>
            </dd>
            <dt>result</dt>
            <dd>
              <a href='expr-2-result.ttl' property='mf:result'>expr-2-result.ttl</a>
            </dd>
          </dl>
        </dd>
        <dt id='dawg-optional-filter-003'>
          <a class='testlink' href='#dawg-optional-filter-003'>
            dawg-optional-filter-003:
          </a>
          <span about='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-003' property='mf:name'>OPTIONAL - Outer FILTER with BOUND</span>
        </dt>
        <dd inlist='true' property='mf:entry' resource='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-003' typeof='mf:QueryEvaluationTest'>
          <div property='rdfs:comment'>
            <p>Use !bound to only run outer FILTERs against variables bound in an OPTIONAL</p>
          </div>
          <dl class='test-detail'>
            <dt>type</dt>
            <dd>mf:QueryEvaluationTest</dd>
            <dt>feature</dt>
            <dd property='mf:feature' resource=''></dd>
            <dt>approval</dt>
            <dd property='mf:approval' resource='dawgt:Approved'>dawgt:Approved</dd>
            <dt>approvedBy</dt>
            <dd>
              <a href='http://lists.w3.org/Archives/Public/public-rdf-dawg/2007AprJun/att-0082/2007-06-12-dawg-minutes.html' property='dawgt:approvedBy'>http://lists.w3.org/Archives/Public/public-rdf-dawg/2007AprJun/att-0082/2007-06-12-dawg-minutes.html</a>
            </dd>
            <dt>action</dt>
            <dd>
              <dl class='test-detail' property='mf:action' resource=''>
                <dt>query</dt>
                <dd>
                  <a href='expr-3.rq' property='qt:query'>expr-3.rq</a>
                </dd>
                <dt>data</dt>
                <dd>
                  <a href='data-1.ttl' property='qt:data'>data-1.ttl</a>
                </dd>
              </dl>
            </dd>
            <dt>result</dt>
            <dd>
              <a href='expr-3-result.ttl' property='mf:result'>expr-3-result.ttl</a>
            </dd>
          </dl>
        </dd>
        <dt id='dawg-optional-filter-004'>
          <a class='testlink' href='#dawg-optional-filter-004'>
            dawg-optional-filter-004:
          </a>
          <span about='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-004' property='mf:name'>OPTIONAL - Inner FILTER with negative EBV for outer variables</span>
        </dt>
        <dd inlist='true' property='mf:entry' resource='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-004' typeof='mf:QueryEvaluationTest'>
          <div property='rdfs:comment'>
            <p>FILTER inside an OPTIONAL does not corrupt the entire solution</p>
          </div>
          <dl class='test-detail'>
            <dt>type</dt>
            <dd>mf:QueryEvaluationTest</dd>
            <dt>feature</dt>
            <dd property='mf:feature' resource=''></dd>
            <dt>approval</dt>
            <dd property='mf:approval' resource='dawgt:Approved'>dawgt:Approved</dd>
            <dt>approvedBy</dt>
            <dd>
              <a href='http://lists.w3.org/Archives/Public/public-rdf-dawg/2007OctDec/att-0006/02-dawg-minutes.html' property='dawgt:approvedBy'>http://lists.w3.org/Archives/Public/public-rdf-dawg/2007OctDec/att-0006/02-dawg-minutes.html</a>
            </dd>
            <dt>action</dt>
            <dd>
              <dl class='test-detail' property='mf:action' resource=''>
                <dt>query</dt>
                <dd>
                  <a href='expr-4.rq' property='qt:query'>expr-4.rq</a>
                </dd>
                <dt>data</dt>
                <dd>
                  <a href='data-1.ttl' property='qt:data'>data-1.ttl</a>
                </dd>
              </dl>
            </dd>
            <dt>result</dt>
            <dd>
              <a href='expr-4-result.ttl' property='mf:result'>expr-4-result.ttl</a>
            </dd>
          </dl>
        </dd>
        <dt id='dawg-optional-filter-005-not-simplified'>
          <a class='testlink' href='#dawg-optional-filter-005-not-simplified'>
            dawg-optional-filter-005-not-simplified:
          </a>
          <span about='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-005-not-simplified' property='mf:name'>dawg-optional-filter-005-not-simplified</span>
        </dt>
        <dd inlist='true' property='mf:entry' resource='http://www.w3.org/2001/sw/DataAccess/tests/data-r2/optional-filter/manifest#dawg-optional-filter-005-not-simplified' typeof='mf:QueryEvaluationTest'>
          <div property='rdfs:comment'>
            <p>Double curly braces do NOT get simplified to single curly braces early on, before filters are scoped</p>
          </div>
          <dl class='test-detail'>
            <dt>type</dt>
            <dd>mf:QueryEvaluationTest</dd>
            <dt>feature</dt>
            <dd property='mf:feature' resource=''></dd>
            <dt>approval</dt>
            <dd property='mf:approval' resource=''></dd>
            <dt>action</dt>
            <dd>
              <dl class='test-detail' property='mf:action' resource=''>
                <dt>query</dt>
                <dd>
                  <a href='expr-5.rq' property='qt:query'>expr-5.rq</a>
                </dd>
                <dt>data</dt>
                <dd>
                  <a href='data-1.ttl' property='qt:data'>data-1.ttl</a>
                </dd>
              </dl>
            </dd>
            <dt>result</dt>
            <dd>
              <a href='expr-5-result-not-simplified.ttl' property='mf:result'>expr-5-result-not-simplified.ttl</a>
            </dd>
          </dl>
        </dd>
      </dl>
    </div>
    <footer>
      <p><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright ©</a> 2015 <a href="http://www.w3.org/">W3C</a>® (<a href="http://www.csail.mit.edu/">MIT</a>, <a href="http://www.ercim.org/">ERCIM</a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C® <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p>
    </footer>
  </body>
</html>